#Copyright (c)  WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
#
# WSO2 Inc. licenses this file to you under the Apache License,
# Version 2.0 (the "License"); you may not use this file except
# in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.

apiVersion: wso2.com/v1alpha1
kind: Security
metadata:
  name: petstorejwt
spec:
  # Security - JWT
  type: JWT
  securityConfig:
    - issuer: https://wso2apim:32001/oauth2/token
      #create secret with certificate and add secret name
      certificate: wso2am320-secret
      validateSubscription: false
    - issuer: https://dev-5uc4e1dm.au.auth0.com/
      audience: https://dev-5uc4e1dm.au.auth0.com/api/v2/
      #create secret with certificate and add secret name
      certificate: jwt-secret
      validateSubscription: false

---
apiVersion: v1
kind: Secret
metadata:
  name: wso2am320-secret
data:
  server.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlEcVRDQ0FwR2dBd0lCQWdJRVhiQUJvekFOQmdrcWhraUc5dzBCQVFzRkFEQmtNUXN3Q1FZRFZRUUdFd0pWDQpVekVMTUFrR0ExVUVDQXdDUTBFeEZqQVVCZ05WQkFjTURVMXZkVzUwWVdsdUlGWnBaWGN4RFRBTEJnTlZCQW9NDQpCRmRUVHpJeERUQUxCZ05WQkFzTUJGZFRUekl4RWpBUUJnTlZCQU1NQ1d4dlkyRnNhRzl6ZERBZUZ3MHhPVEV3DQpNak13TnpNd05ETmFGdzB5TWpBeE1qVXdOek13TkROYU1HUXhDekFKQmdOVkJBWVRBbFZUTVFzd0NRWURWUVFJDQpEQUpEUVRFV01CUUdBMVVFQnd3TlRXOTFiblJoYVc0Z1ZtbGxkekVOTUFzR0ExVUVDZ3dFVjFOUE1qRU5NQXNHDQpBMVVFQ3d3RVYxTlBNakVTTUJBR0ExVUVBd3dKYkc5allXeG9iM04wTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGDQpBQU9DQVE4QU1JSUJDZ0tDQVFFQXhlcW9aWWJRL1NyOERPRlErL3FiRWJDcDZWemI1aHpIN29hM2hmMkZaeFJLDQpGMEg2YjhDT016ejgrMG12RWRZVnZiLzMxak1FTDJDSVFoa1FSb2wxSXJ1RDZuQk9ta2p1WEpTQmZpY2tsTWFKDQpaT1JodUNyQjRyb0h4em9HMTlhV21zY0EwZ25mQktvMm9HWFNqSm1uWnhJaCsyWDZzeUhDZnlNWlowMEx6RHlyDQpnb1hXUVh5RnZDQTJheDU0czdzS2lIT00zUDRBOVc0UVV3bW9FaTRIUW1QZ0pqSU00ZUdWUGgwR3RJQU5OK0JPDQpRMUtrVUk3T3p0ZUhDVEx1M1ZqeE0wc3c4UVJheVpkaG5pUEYrVTluM2ZhMW1PNEtMQnNXNG1ETGpnOFIvSnVBDQpHVFgvU0VFR2owQjVIV1FBUDZteXhLRnoyeHdEYUNHdlQrcmR2a2t0T3dJREFRQUJvMk13WVRBVUJnTlZIUkVFDQpEVEFMZ2dsc2IyTmhiR2h2YzNRd0hRWURWUjBPQkJZRUZFRHBMQjRQRGd6c2R4RDJGVjNyVm5Pci9BMERNQjBHDQpBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFMQmdOVkhROEVCQU1DQlBBd0RRWUpLb1pJDQpodmNOQVFFTEJRQURnZ0VCQUU4SC9heEFnWGp0OTNIR0NZR3VtVUxXMmxLa2dxRXZYcnlQMlFrUnBieVFTc1RZDQpjTDdaTFNWQjdNVlZIdElzSGg4ZjFDNFhxNlF1OE5VcnF1NVpMQzFwVUJ5YXFSMlpJemNqL09XTEdZUmpTVEhTDQpWbVZJcTlRcUJxMWo3cjZmM0JXcWFPSWlrbm1UekV1cUlWbE9UWTBnTytTSGRTNjJ2cjJGQ3o0eU9yQkV1bEdBDQp2b21zVThzcWc0UGhGbmtoeEk0TTkxMkx5KzJSZ045TDdBa2h6SytFelhZMS9RdGxJL1Z5c05mUzZ6ckhhc0t6DQo2Q3JLS0NHcVFuQm5TdlNUeUY5T1I1S0ZIbmtBd0U5OTVJWnJjU1FpY014c0xoVE1VSERMUS9nUnl5N1YvWnBEDQpNZkFXUis1T2VRaU5BcC9iRzRmakpvVGRvcWt1bDUxKzJiSEhWclU9DQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQo=
type: Opaque

---
apiVersion: v1
kind: Secret
metadata:
  name: jwt-secret
data:
  server.pem: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlERFRDQ0FmV2dBd0lCQWdJSlRsYUpZaldrRG5aeE1BMEdDU3FHU0liM0RRRUJDd1VBTUNReElqQWdCZ05WDQpCQU1UR1dSbGRpMDFkV00wWlRGa2JTNWhkUzVoZFhSb01DNWpiMjB3SGhjTk1qQXdNekUzTVRrd016STBXaGNODQpNek14TVRJME1Ua3dNekkwV2pBa01TSXdJQVlEVlFRREV4bGtaWFl0TlhWak5HVXhaRzB1WVhVdVlYVjBhREF1DQpZMjl0TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF0QnlOZUJYN21TaW5uYitmDQp3NlBuZlhTZ3RIYWtFWi9VbGl2VUwwOFFqaG5VRjVhRzh1L0srQVltL2R2UjYvYk80TmtvUUsyYWd4UVlrQXRpDQordktKSklyU3piWXBMRVJPTlhLaWtMMnNnbzR4aFI3SFhZUG5mejNtdW0zVmtLQVdoNDkwTmtQUTBTSU1vZU4zDQo3QUo5N0MrUXpZSnZQVVJ4ek95a0NrR3o5UVEvYkY3TnFPTi9QWWVEYkFnSzMrdTFyeVV2RFozcG5pWHlyN00zDQpWd3Vwdk41QndkT3NRMm5vd3UxditTSFdpK1pFYmczRHNiaFZtWXFTVHFhUXpjZzgzQndOdEJKcnpvNWRBaWlTDQptUGxYQk1iWmd3Q2xXWlIrL0RJRnIxZjhOcmUzR3d1UFpoSUhJWlFMZjl3aUpqMUdDUU04L1Q3WmlNUndmcEVPDQpYMWE0Z1FJREFRQUJvMEl3UURBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJTVG42OFRuY2xEDQp2bU5hbEVKcG1nQUtpMnJnbXpBT0JnTlZIUThCQWY4RUJBTUNBb1F3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCDQpBRzJRU2ovald0TUFZdmQ1NUdNT2ZuVFJtT0Y1L1RpWUh5MVpuSkZuOXUrbG5QQUhTd1BTRC85QWZ4SGJ0a2JCDQo3NHpjRlpkcFJVVk5JZ2RXaGlXNXA2R29id0dQV0k0RCtxNHFBQmV1QUFDMmtkM3lmdS9vUkp4ZDBSSmZLYWI4DQp4YWdVUWpjMHRHNk5YQW5DTHUwL1d2VTZaV3FadGhSY1d3d2p1MjZ0c2UvWFZsWVE3N0Z2ZmJBcFlOMkdtcG1PDQpMMmcxTHVkcXNoOTRZTFM1Z29ZNitxQXRPcFN0S1NWM0ZOc2ZRaGxLUFJtbkNod25ZWllrZCtaakpiUm5rTkV1DQo0STdnRTFMeXBoZ2w2RCthM3ljRlY5TFdYNzNwZDlKZW8wK2NWMUVabGJFbXpvK3VtaVgvV3NhV3dVdnBvZEYvDQpDaU54WFJpRHBjRkt1dUEycUVjbHlQUT0NCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0NCg==
type: Opaque
